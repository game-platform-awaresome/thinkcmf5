<include file="public@header"/>
</head>

<body>
<div class="wrap">
    <ul class="nav nav-tabs">
        <li class="active"><a>{$flag}管理</a></li>
    </ul>
    <form class="well form-inline margin-top-20" method="post" action="{:url('index')}">
        <include file="user@admin_index/search" />

        <input type="submit" class="btn btn-primary" value="筛选"/>
        <a class="btn btn-danger" href="{:url('index')}">清空</a>
    </form>
    <div style="height:100%">
        <div id="container" style="height:500px;"></div>
    </div>
</div>
<script src="__STATIC__/js/admin.js"></script>
<script src="__STATIC__/js/echarts/echarts.min.js"></script>
<script type="text/javascript">
$(function() {
    var dom = document.getElementById("container");
    var myChart = echarts.init(dom);
    var app = {};

    //数组转json串
    // var arr = [1,2,3, { a : 1 } ];
    // JSON.stringify( arr );
    //json字符串转数组
    // var jsonStr = '[1,2,3,{"a":1}]';
    // JSON.parse( jsonStr );

    var x = JSON.parse('{$x}');
    var y = JSON.parse('{$y}');
    // alert(x)
    // alert(y)

    option = {
        tooltip: {
            trigger: 'item',
            // formatter: '{a} <br/>{b} : {c}'
            formatter: '{b} : {c}人'
        },
        xAxis: {
            name: '注册时间',
            type: 'category',
            // data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
            data: x
        },
        yAxis: {
            name: '注册人数',
            type: 'value'
        },
        series: [{
            // name: '本月',
            type: 'line',
            // data: [820, 932, 901, 934, 1290, 1330, 1320]
            data: y
        }]
    };




    // 参考demo： \public\static\js\echarts\line-log.html
    // 测试数据
    // var x = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];
    // var y = [820,932,901,934,1290,1330,1320,1120,900,633,520,980,1212,1456,1600];
    // option = null;
    /*option = {
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        title: {
            text: '用户注册统计',
            left: 'center'
        },
        legend: {
            left: 'left',
            data: ['本月', '上月']
        },
        tooltip: {
            trigger: 'item',
            formatter: '{a} <br/>{b} : {c}'
        },
        xAxis: {
            type: 'category',
            data: x,
            name: '注册时间'
        },
        yAxis: {
            type: 'value',
            name: '注册人数'
        },
        // series: [{
        //     type: 'line',
        //     data: y,
        //     name: '本月',
        // }],
        series: [
            {
                name: '本月',
                type: 'line',
                data: [1, 3, 9, 27, 81, 247, 123, 223, 56]
            },
            {
                name: '上月',
                type: 'line',
                data: [1, 2, 4, 8, 16, 32, 64, 128, 256]
            },
        ],
    };*/
    
    if (option && typeof option === "object") {
        myChart.setOption(option, true);
    }
});
</script>
</body>
</html>